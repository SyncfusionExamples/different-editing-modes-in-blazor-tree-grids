@page "/"

<SfTreeGrid DataSource="@TreeData" IdMapping="TaskID" ParentIdMapping="ParentID" TreeColumnIndex="1"
            Toolbar="@( new List<string>() { "Add", "Edit", "Delete", "Update", "Cancel"})">
    <TreeGridEditSettings AllowEditing="true" AllowAdding="true" AllowDeleting="true"
                          Mode="Syncfusion.Blazor.TreeGrid.EditMode.Row"></TreeGridEditSettings>
    <TreeGridColumns>
        <TreeGridColumn Field="TaskID" HeaderText="Task ID" Width="80" TextAlign="Syncfusion.Blazor.Grids.TextAlign.Right"
                        IsPrimaryKey="true"></TreeGridColumn>
        <TreeGridColumn Field="TaskName" HeaderText="Task Name" Width="160"></TreeGridColumn>
        <TreeGridColumn Field="StartDate" HeaderText="Start Date" Width="150" Format="d"
                        EditType="Syncfusion.Blazor.Grids.EditType.DateTimePickerEdit"></TreeGridColumn>
        <TreeGridColumn Field="Duration" HeaderText="Duration" Width="100" TextAlign="Syncfusion.Blazor.Grids.TextAlign.Right"
                        EditType="Syncfusion.Blazor.Grids.EditType.NumericEdit"></TreeGridColumn>
        <TreeGridColumn Field="Progress" HeaderText="Progress" Width="100" TextAlign="Syncfusion.Blazor.Grids.TextAlign.Right"
                        EditType="Syncfusion.Blazor.Grids.EditType.NumericEdit"></TreeGridColumn>
        <TreeGridColumn Field="Approved" HeaderText="Approved" Width="100" DisplayAsCheckBox="true" Type="Syncfusion.Blazor.Grids.ColumnType.Boolean"
                        EditType="Syncfusion.Blazor.Grids.EditType.BooleanEdit"></TreeGridColumn>
        <TreeGridColumn HeaderText="Manage Records" Width="150">
            <TreeGridCommandColumns>
                <TreeGridCommandColumn Type="Syncfusion.Blazor.Grids.CommandButtonType.Edit"
                                       ButtonOption="@(new Syncfusion.Blazor.Grids.CommandButtonOptions() {IconCss="e-icons e-edit", CssClass="e-flat" })"></TreeGridCommandColumn>
                <TreeGridCommandColumn Type="Syncfusion.Blazor.Grids.CommandButtonType.Delete"
                                       ButtonOption="@(new Syncfusion.Blazor.Grids.CommandButtonOptions() {IconCss="e-icons e-delete", CssClass="e-flat" })"></TreeGridCommandColumn>
                <TreeGridCommandColumn Type="Syncfusion.Blazor.Grids.CommandButtonType.Save"
                                       ButtonOption="@(new Syncfusion.Blazor.Grids.CommandButtonOptions() {IconCss="e-icons e-save", CssClass="e-flat" })"></TreeGridCommandColumn>
                <TreeGridCommandColumn Type="Syncfusion.Blazor.Grids.CommandButtonType.Cancel"
                                       ButtonOption="@(new Syncfusion.Blazor.Grids.CommandButtonOptions() {IconCss="e-icons e-cancel-icon", CssClass="e-flat" })"></TreeGridCommandColumn>
            </TreeGridCommandColumns>
        </TreeGridColumn>
    </TreeGridColumns>
</SfTreeGrid>

@code {

    public class BusinessObject
    {
        public int TaskID { get; set; }
        public string TaskName { get; set; }
        public DateTime? StartDate { get; set; }
        public int Duration { get; set; }
        public int Progress { get; set; }
        public bool Approved { get; set; }
        public int? ParentID { get; set; }
    }

    public List<BusinessObject> TreeData = new List<BusinessObject>();

    protected override void OnInitialized()
    {
        TreeData.Add(new BusinessObject() { TaskID = 1, TaskName = "Parent Task 1", StartDate = new DateTime(2017, 10, 23), Duration = 10, Progress = 70, ParentID = null });
        TreeData.Add(new BusinessObject() { TaskID = 2, TaskName = "Child task 1", StartDate = new DateTime(2017, 10, 23), Progress = 80, ParentID = 1 });
        TreeData.Add(new BusinessObject() { TaskID = 3, TaskName = "Child Task 2", StartDate = new DateTime(2017, 10, 24), Duration = 5, Progress = 65, ParentID = 2 });
        TreeData.Add(new BusinessObject() { TaskID = 4, TaskName = "Child task 3", StartDate = new DateTime(2017, 10, 25), Duration = 6, Progress = 77, ParentID = 3 });
        TreeData.Add(new BusinessObject() { TaskID = 5, TaskName = "Parent Task 2", StartDate = new DateTime(2017, 10, 23), Duration = 10, Progress = 70, ParentID = null });
        TreeData.Add(new BusinessObject() { TaskID = 6, TaskName = "Child task 1", StartDate = new DateTime(2017, 10, 23), Duration = 4, Progress = 80, ParentID = 5 });
        TreeData.Add(new BusinessObject() { TaskID = 7, TaskName = "Child Task 2", StartDate = new DateTime(2017, 10, 24), Duration = 5, Progress = 65, ParentID = 5 });
        TreeData.Add(new BusinessObject() { TaskID = 8, TaskName = "Child task 3", StartDate = new DateTime(2017, 10, 25), Duration = 6, Progress = 77, ParentID = 5 });
        TreeData.Add(new BusinessObject() { TaskID = 9, TaskName = "Child task 4", StartDate = new DateTime(2017, 10, 25), Duration = 6, Progress = 77, ParentID = 5 });
    }
}